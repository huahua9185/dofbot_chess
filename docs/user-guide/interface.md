# 用户界面指南

## 概述

智能象棋机器人提供了现代化的Web界面，基于React 18和TypeScript构建，支持响应式设计，可在桌面和移动设备上完美运行。

## 主界面布局

### 1. 顶部导航栏

- **项目Logo**: 智能象棋机器人标识
- **主菜单**: 游戏、标定、监控、设置
- **用户信息**: 登录状态、用户名、退出登录
- **系统状态**: 硬件连接状态指示器

### 2. 侧边栏

- **快速操作**: 新游戏、继续游戏、历史记录
- **硬件状态**:
  - 📷 相机状态 (在线/离线)
  - 🦾 机械臂状态 (就绪/忙碌/错误)
  - 🧠 AI引擎状态 (空闲/思考中)
- **游戏统计**: 胜负记录、平均用时

### 3. 主要内容区域

根据当前页面显示不同内容：
- **游戏页面**: 3D棋盘、游戏控制
- **标定页面**: 相机预览、标定工具
- **监控页面**: 系统指标、性能图表
- **设置页面**: 系统配置、用户偏好

## 页面详解

### 游戏页面

#### 3D棋盘视图
- **视角控制**: 鼠标拖拽旋转视角，滚轮缩放
- **棋子高亮**: 可移动棋子会高亮显示
- **移动提示**: 显示合法移动位置
- **动画效果**: 平滑的棋子移动动画

#### 游戏控制面板
```
┌─────────────────────────────────────┐
│ 游戏控制                              │
├─────────────────────────────────────┤
│ ⏸️ 暂停游戏    🔄 悔棋    ⏹️ 结束游戏   │
│                                    │
│ 当前状态: 等待玩家移动                 │
│ AI难度:  ████████░░ (8/10)          │
│                                    │
│ ⏱️ 用时统计                          │
│ 玩家: 03:24  AI: 01:47               │
└─────────────────────────────────────┘
```

#### 移动历史
- **移动列表**: 按时间顺序显示所有移动
- **代数记号**: 标准国际象棋记号 (e4, Nf3等)
- **移动时间**: 每步用时统计
- **移动评估**: AI对移动质量的评分

### 标定页面

#### 相机标定
```
┌─────────────────────────────────────┐
│ 📷 相机标定                           │
├─────────────────────────────────────┤
│ [实时预览窗口]                        │
│                                    │
│ 标定状态: ████████░░ 8/10             │
│                                    │
│ 🎯 请将标定板放在棋盘四个角落           │
│                                    │
│ [开始标定] [重置] [保存配置]           │
└─────────────────────────────────────┘
```

#### 机械臂标定
```
┌─────────────────────────────────────┐
│ 🦾 机械臂标定                          │
├─────────────────────────────────────┤
│ 当前位置: X:125 Y:89 Z:203           │
│ 关节角度: [30°, 45°, -60°, 0°, 90°, 0°] │
│                                    │
│ 标定步骤:                            │
│ ✅ 1. 零点标定                       │
│ ⏳ 2. 工作空间映射                    │
│ ⏸️ 3. 精度验证                       │
│                                    │
│ [移动到零点] [测试抓取] [完成标定]      │
└─────────────────────────────────────┘
```

### 监控页面

#### 系统性能仪表板
```
┌─────────────────┬─────────────────┐
│ 💾 内存使用      │ 🖥️ CPU使用       │
│ ████████░░ 82%  │ ████░░░░░░ 45%  │
└─────────────────┼─────────────────┤
│ 🎮 GPU使用      │ 🌡️ 系统温度      │
│ ████████░░ 76%  │ ████░░░░░░ 62°C │
└─────────────────┴─────────────────┘
```

#### 实时日志
- **日志级别过滤**: ERROR, WARN, INFO, DEBUG
- **服务过滤**: 按微服务分类显示日志
- **时间戳**: 精确到毫秒的时间记录
- **自动滚动**: 新日志自动滚动到底部

### 设置页面

#### 游戏设置
```
┌─────────────────────────────────────┐
│ 🎲 游戏偏好设置                        │
├─────────────────────────────────────┤
│ AI难度等级: ████████░░ (8/10)         │
│ 思考时间限制: [5秒] [10秒] [30秒]      │
│ 自动保存游戏: ✅                      │
│ 移动动画速度: ████████░░              │
│ 声音提示: ✅ 音效 ✅ 语音播报           │
└─────────────────────────────────────┘
```

#### 硬件设置
```
┌─────────────────────────────────────┐
│ ⚙️ 硬件配置                           │
├─────────────────────────────────────┤
│ 相机设备: /dev/video0 [测试]           │
│ 串口设备: /dev/ttyACM0 [测试]         │
│ 分辨率: 1920x1080 @ 30fps             │
│ 机械臂速度: ████████░░                │
│ 安全限位: ✅                          │
└─────────────────────────────────────┘
```

## 交互操作

### 鼠标操作
- **左键**: 选择棋子、点击按钮
- **右键**: 取消选择、上下文菜单
- **中键滚轮**: 缩放3D棋盘
- **拖拽**: 旋转3D视角

### 键盘快捷键
- **空格**: 暂停/继续游戏
- **Ctrl+Z**: 悔棋
- **Ctrl+N**: 新游戏
- **Ctrl+S**: 保存游戏
- **F5**: 刷新页面
- **ESC**: 取消当前操作

### 手势操作 (移动设备)
- **单指滑动**: 旋转棋盘
- **双指捏合**: 缩放棋盘
- **双击**: 重置视角
- **长按**: 显示详细信息

## 状态指示器

### 硬件状态
- 🟢 **绿色**: 设备正常工作
- 🟡 **黄色**: 设备忙碌中
- 🔴 **红色**: 设备错误或离线
- ⚪ **灰色**: 设备未连接

### 游戏状态
- ⏸️ **暂停**: 游戏已暂停
- 🤔 **思考**: AI正在计算
- ⏳ **等待**: 等待玩家操作
- ✅ **完成**: 游戏结束

## 错误处理

### 常见错误提示
- **连接超时**: "设备连接超时，请检查硬件连接"
- **识别失败**: "无法识别棋盘状态，请调整光线条件"
- **移动无效**: "此移动不符合象棋规则"
- **系统忙碌**: "系统正在处理中，请稍候"

### 错误恢复
1. **自动重试**: 系统会自动重试失败的操作
2. **手动刷新**: 点击刷新按钮重新加载
3. **重新标定**: 如果识别问题持续，进行重新标定
4. **重启服务**: 严重错误时建议重启相关服务

## 响应式设计

### 桌面端 (≥1024px)
- 完整功能界面
- 3D棋盘最佳体验
- 多窗口同时显示

### 平板端 (768px-1023px)
- 适配触摸操作
- 简化的控制面板
- 优化的按钮尺寸

### 移动端 (≤767px)
- 垂直布局设计
- 大按钮和图标
- 滑动导航菜单

## 无障碍支持

- **键盘导航**: 支持Tab键导航
- **屏幕阅读器**: 提供alt文本和标签
- **高对比度**: 支持高对比度主题
- **语音提示**: 可选的语音播报功能

## 浏览器兼容性

### 推荐浏览器
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

### 必需功能
- WebGL支持 (3D渲染)
- WebSocket支持 (实时通信)
- ES6+ JavaScript支持
- 硬件加速支持

## 性能优化

### 自动优化
- **懒加载**: 按需加载组件
- **图像压缩**: 自动压缩传输图像
- **缓存管理**: 智能缓存策略
- **连接复用**: WebSocket连接复用

### 手动优化
- 降低3D渲染质量
- 关闭不必要的动画
- 减少同时显示的日志条数
- 调整监控数据刷新频率